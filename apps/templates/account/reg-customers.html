{% extends "layouts/base.html" %}

{% block title %} base_cust {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="px-5 py-4 container-fluid">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div class="mx-2 mb-2 d-md-flex align-items-center">
                    <h5 class="mb-0 font-weight-bold"><i class="fas fa-user-circle fas-4 me-3"></i>사용 거래처 정보 등록</h5>
                    <button type="button" class="mb-0 mb-2 btn btn-success btn-sm align-items-center ms-md-auto mb-sm-0 me-2" id="btnSearch" name="btnSearch">
                          <i class="fas fa-search me-2 fs-6"></i>조회
                    </button>
                    <button type="button" class="mb-0 btn btn-primary btn-sm align-items-center me-2" id="btnSave" name="btnSave">
                          <i class="fas fa-plus me-2 fs-6"></i>저장
                    </button>
                    <button type="button" class="mb-0 btn btn-white btn-sm align-items-center me-2 text-dark" id="btnClear" name="btnClear">
                          <i class="fas fa-eraser me-2 fs-6"></i>초기화
                    </button>
                    <button type="button" class="mb-0 btn btn-dark btn-sm align-items-center" id="btnDlt" name="btnDlt">
                          <i class="fas fa-minus me-2 fs-6"></i>삭제
                    </button>
                </div>
            </div>
        </div>
        <hr class="my-0">
        <div class="my-4 row">
            <div class="col-lg-7 col-7">
                <div class="card height-500">
                    <div class="card-header border-bottom">
                      <div class="row">
                          <div class="col-4">
                            <div class="d-flex">
                                <label style="font-size: 0.85rem; width: 10rem"><i class="fas fa-search me-2"></i>업체 코드/명</label>
                                <input style="height: 2rem; font-size: 0.8rem" class="form-control border border-light rounded-1 text-center p-0" value="" type="text" id="inputCustCode" name="inputCustCode"/>
                            </div>
                          </div>
                      </div>
                    </div>
                    <div class="px-0 py-0 card-body">
                      <div class="table-responsive height-400 m-1">
                        <table class="table mb-0 align-items-center justify-content-center">
                            <colgroup>
                                <col width="2%">
                                <col width="6%">
                                <col width="12%">
                                <col width="6%">
                                <col width="8%">
                                <col width="15%">
                                <col width="8%">
                                <col width="6%">
                                <col width="8%">
                                <col width="8%">
                                <col width="8%">
                                <col width="8%">
                            </colgroup>
                          <thead class="bg-primary text-white">
                            <tr>
                              <th style="font-size: 0.8rem" class="p-1">선택</th>
                              <th style="font-size: 0.8rem" class="p-1">업체 코드</th>
                              <th style="font-size: 0.8rem" class="p-1">업 체 명</th>
                              <th style="font-size: 0.8rem" class="p-1">업체 구분</th>
                              <th style="font-size: 0.8rem" class="p-1">대표자</th>
                              <th style="font-size: 0.8rem" class="p-1">주 소</th>
                              <th style="font-size: 0.8rem" class="p-1">사업자 번호</th>
                              <th style="font-size: 0.8rem" class="p-1">우편 번호</th>
                              <th style="font-size: 0.8rem" class="p-1">전화 번호</th>
                              <th style="font-size: 0.8rem" class="p-1">FAX</th>
                              <th style="font-size: 0.8rem" class="p-1">등록 일자</th>
                              <th style="font-size: 0.8rem" class="p-1">미사용 일자</th>
                            </tr>
                          </thead>
                          <tbody id="custMainTb">
                            <tr id="custMainTr" class="custMainTr_tr">

                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                </div>
            </div>
            <div class="mb-4 col-lg-5 col-md-3 mb-md-0">
                <div class="card shadow-xs border height-500">
                    <form method="post" id="dropzone">
                        {% csrf_token %}
                        <div class="card-body">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-4">
                                        <label class="" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-info text-sm"></i>업체 코드</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtCustCode" name="txtCustCode"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-info text-sm"></i>업체명</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtCustName" name="txtCustName"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>대표자</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtCeo" name="txtCeo"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>사업자 번호</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtRegNum" name="txtRegNum" maxlength="12"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>업 태</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtCustCat" name="txtCustCat"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>업 종</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtCustType" name="txtCustType"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>우편 번호</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtPostCode" name="txtPostCode" maxlength="6"/>
                                    </div>
                                    <div class="col-8">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>주 소</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtAddress" name="txtAddress"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>전화 번호</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtTelePhone" name="txtTelePhone" maxlength="12"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>FAX</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtFax" name="txtFax" maxlength="12"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-info text-sm"></i>업체 분류</label>
                                        <input style="font-size: 0.8rem; height: 2rem" class="form-control border border-light rounded-1 text-start p-0" name="txtCustType" id="txtCustType"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="ni ni-calendar-grid-58 me-2 text-dark text-sm"></i>등록일</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-center" type="date" id="txtRegDate" name="txtRegDate"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="ni ni-calendar-grid-58 me-2 text-dark text-sm"></i>미사용일</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-center" type="date" id="txtExpDate" name="txtExpDate"/>
                                    </div>
                                    <div class="col-4">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="fa fa-check-square-o me-2 text-dark text-sm"></i>e-Mail</label>
                                        <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="email" id="txtEMail" name="txtEMail"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-8">
                                        <label class="mt-2" style="font-size: 0.8rem"><i class="ni ni-calendar-grid-58 me-2 text-dark text-sm"></i>거래처 계좌 정보</label>
                                        <div class="d-flex">
                                            <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtBank" name="txtBank"/>
                                            <input style="height: 2rem; font-size: 0.8rem" class="form-control text-start" type="text" id="txtAct" name="txtAct"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script>

    $(document).ready(function () {

        $.ajax({
            type: "post",
            url: '{% url "reg_cust_list" %}',
            headers: {
                'X-CSRFTOKEN': '{{ csrf_token }}'
            },
            dataType: 'json',
            success: function (data) {
                var list = data.custList;

                $("#custMainTb").html("");
                for (var i = 0; i < list.length; i++) {

                    $("#custMainTb").append(
                        "<tr id='#custMainTr' class='custMainTr_tr' main_code='" + list[i][1] + "'>" +
                        "<td class='text-center p-1'><div class='form-check text-xs'><input class='form-check-input' type='checkbox' id='chkCust[]' name='chkCust[]' value='" + list[i][0] + "'/></div></td>" +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][0] + "</td>" +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][1] + "</td> " +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][2] + "</td> " +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][3] + "</td> " +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][4] + "</td> " +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][5] + "</td> " +
                        "<td class='text-start p-1' style='font-size: 0.8rem'>" + list[i][6] + "</td> " +
                        "<td class='text-center p-1' style='font-size: 0.8rem'>" + list[i][7] + "</td> " +
                        "<td class='text-center p-1' style='font-size: 0.8rem'>" + list[i][8] + "</td> " +
                        "<td class='text-center p-1' style='font-size: 0.8rem'>" + list[i][9] + "</td> " +
                        "<td class='text-center p-1' style='font-size: 0.8rem'>" + list[i][10] + "</td> " +
                        "</tr> ");
                }
            }
        });
    });


    </script>
{% endblock %}